<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart</title>
    <script src="script.js" defer></script>
</head>
<body>
    <h1>Shopping Cart</h1>
    <ul id="cart-list"></ul>
    <p>Add items to your cart:</p>
    <button onclick="addToCart('Product 1', 10.99)">Add Product 1</button>
    <button onclick="addToCart('Product 2', 19.99)">Add Product 2</button>
    <button onclick="clearCart()">Clear Cart</button>
</body>
</html>

<script>
    // Função para adicionar um item ao carrinho
function addToCart(product, price) {
    let cart = getCart();
    cart.push({ product, price });
    setCart(cart);
    updateCartList();
}

// Função para obter o carrinho do cookie
function getCart() {
    const cartCookie = getCookie('cart');
    return cartCookie ? JSON.parse(cartCookie) : [];
}

// Função para definir o carrinho no cookie
function setCart(cart) {
    document.cookie = `cart=${JSON.stringify(cart)}; expires=${getCookieExpiration()}; path=/`;
}

// Função para limpar o carrinho
function clearCart() {
    setCart([]);
    updateCartList();
}

// Função para obter o valor de um cookie por nome
function getCookie(name) {
    const cookies = document.cookie.split('; ');
    for (const cookie of cookies) {
        const [cookieName, cookieValue] = cookie.split('=');
        if (cookieName === name) {
            return cookieValue;
        }
    }
    return null;
}

// Função para calcular a data de expiração do cookie (1 dia a partir de agora)
function getCookieExpiration() {
    const date = new Date();
    date.setDate(date.getDate() + 1);
    return date.toUTCString();
}

// Função para atualizar a lista de carrinho na página
function updateCartList() {
    const cart = getCart();
    const cartListElement = document.getElementById('cart-list');
    cartListElement.innerHTML = '';

    if (cart.length === 0) {
        cartListElement.innerHTML = '<p>Your cart is empty.</p>';
    } else {
        cart.forEach(item => {
            const listItem = document.createElement('li');
            listItem.textContent = `${item.product} - $${item.price.toFixed(2)}`;
            cartListElement.appendChild(listItem);
        });
    }
}

// Ao carregar a página, atualiza a lista de carrinho com base no carrinho atual
window.onload = updateCartList;

</script>